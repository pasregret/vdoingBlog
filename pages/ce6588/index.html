<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>redis-caching-avalanche-and-caching-penetration | 時念</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/vdoingBlog/img/csdn.ico">
    <link rel="stylesheet" href="/vdoingBlog/icon/iconfont.css">
    <meta name="description" content="在努力一点，成为更优秀的人">
    <meta name="keywords" content="全栈博客,个人技术博客,前端,后端开发,后端框架,技术文档,学习,面试,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    <link rel="preload" href="/vdoingBlog/assets/css/0.styles.1a8a0045.css" as="style"><link rel="preload" href="/vdoingBlog/assets/js/app.b9445f3d.js" as="script"><link rel="preload" href="/vdoingBlog/assets/js/2.6f6622d0.js" as="script"><link rel="preload" href="/vdoingBlog/assets/js/3.2637abc7.js" as="script"><link rel="preload" href="/vdoingBlog/assets/js/9.249dec4c.js" as="script"><link rel="prefetch" href="/vdoingBlog/assets/js/10.f47bb344.js"><link rel="prefetch" href="/vdoingBlog/assets/js/100.42845136.js"><link rel="prefetch" href="/vdoingBlog/assets/js/101.f4fa1fb3.js"><link rel="prefetch" href="/vdoingBlog/assets/js/102.3b223ea5.js"><link rel="prefetch" href="/vdoingBlog/assets/js/103.2feef0d7.js"><link rel="prefetch" href="/vdoingBlog/assets/js/104.d8c00bff.js"><link rel="prefetch" href="/vdoingBlog/assets/js/105.20cd0607.js"><link rel="prefetch" href="/vdoingBlog/assets/js/106.001d93be.js"><link rel="prefetch" href="/vdoingBlog/assets/js/107.b8d7babc.js"><link rel="prefetch" href="/vdoingBlog/assets/js/108.910bf8f7.js"><link rel="prefetch" href="/vdoingBlog/assets/js/109.78853843.js"><link rel="prefetch" href="/vdoingBlog/assets/js/11.aa074a37.js"><link rel="prefetch" href="/vdoingBlog/assets/js/110.d242bfec.js"><link rel="prefetch" href="/vdoingBlog/assets/js/111.6a5c9de7.js"><link rel="prefetch" href="/vdoingBlog/assets/js/112.d252eeeb.js"><link rel="prefetch" href="/vdoingBlog/assets/js/113.d9f0ce34.js"><link rel="prefetch" href="/vdoingBlog/assets/js/114.fe4b6af6.js"><link rel="prefetch" href="/vdoingBlog/assets/js/115.e4a474d2.js"><link rel="prefetch" href="/vdoingBlog/assets/js/116.aeca2095.js"><link rel="prefetch" href="/vdoingBlog/assets/js/117.d7dc004d.js"><link rel="prefetch" href="/vdoingBlog/assets/js/118.84bcb9d9.js"><link rel="prefetch" href="/vdoingBlog/assets/js/119.4dfa1c83.js"><link rel="prefetch" href="/vdoingBlog/assets/js/12.5d63e14e.js"><link rel="prefetch" href="/vdoingBlog/assets/js/120.854e657f.js"><link rel="prefetch" href="/vdoingBlog/assets/js/121.6da2d006.js"><link rel="prefetch" href="/vdoingBlog/assets/js/122.c3b31eb5.js"><link rel="prefetch" href="/vdoingBlog/assets/js/123.11d5eecd.js"><link rel="prefetch" href="/vdoingBlog/assets/js/124.7a3b425f.js"><link rel="prefetch" href="/vdoingBlog/assets/js/125.b9e5125a.js"><link rel="prefetch" href="/vdoingBlog/assets/js/126.5c6a319c.js"><link rel="prefetch" href="/vdoingBlog/assets/js/127.c4f91b82.js"><link rel="prefetch" href="/vdoingBlog/assets/js/128.a44c3fa4.js"><link rel="prefetch" href="/vdoingBlog/assets/js/129.f8682a40.js"><link rel="prefetch" href="/vdoingBlog/assets/js/13.a5ee467c.js"><link rel="prefetch" href="/vdoingBlog/assets/js/130.8c1775aa.js"><link rel="prefetch" href="/vdoingBlog/assets/js/131.55c54bc6.js"><link rel="prefetch" href="/vdoingBlog/assets/js/132.7d15b20e.js"><link rel="prefetch" href="/vdoingBlog/assets/js/133.b29cf3ba.js"><link rel="prefetch" href="/vdoingBlog/assets/js/134.314ca301.js"><link rel="prefetch" href="/vdoingBlog/assets/js/135.360ddced.js"><link rel="prefetch" href="/vdoingBlog/assets/js/136.78a4c5a1.js"><link rel="prefetch" href="/vdoingBlog/assets/js/137.940596c3.js"><link rel="prefetch" href="/vdoingBlog/assets/js/138.2ec64349.js"><link rel="prefetch" href="/vdoingBlog/assets/js/139.5a9b5fe5.js"><link rel="prefetch" href="/vdoingBlog/assets/js/14.512fbd60.js"><link rel="prefetch" href="/vdoingBlog/assets/js/140.508c1e62.js"><link rel="prefetch" href="/vdoingBlog/assets/js/141.1cf87c66.js"><link rel="prefetch" href="/vdoingBlog/assets/js/142.d0673700.js"><link rel="prefetch" href="/vdoingBlog/assets/js/143.d931e217.js"><link rel="prefetch" href="/vdoingBlog/assets/js/144.2ba080d0.js"><link rel="prefetch" href="/vdoingBlog/assets/js/145.34a66124.js"><link rel="prefetch" href="/vdoingBlog/assets/js/146.7326184c.js"><link rel="prefetch" href="/vdoingBlog/assets/js/147.9a40c0bc.js"><link rel="prefetch" href="/vdoingBlog/assets/js/148.5a0704ca.js"><link rel="prefetch" href="/vdoingBlog/assets/js/149.50811395.js"><link rel="prefetch" href="/vdoingBlog/assets/js/15.0e6b28e8.js"><link rel="prefetch" href="/vdoingBlog/assets/js/150.ce4936ee.js"><link rel="prefetch" href="/vdoingBlog/assets/js/151.d3b6c741.js"><link rel="prefetch" href="/vdoingBlog/assets/js/152.cf8a427e.js"><link rel="prefetch" href="/vdoingBlog/assets/js/153.67b4278d.js"><link rel="prefetch" href="/vdoingBlog/assets/js/154.696fd65b.js"><link rel="prefetch" href="/vdoingBlog/assets/js/155.fb50bb35.js"><link rel="prefetch" href="/vdoingBlog/assets/js/156.1cfd70cc.js"><link rel="prefetch" href="/vdoingBlog/assets/js/157.2686ced9.js"><link rel="prefetch" href="/vdoingBlog/assets/js/158.2ae25174.js"><link rel="prefetch" href="/vdoingBlog/assets/js/159.7f50d687.js"><link rel="prefetch" href="/vdoingBlog/assets/js/16.d111875a.js"><link rel="prefetch" href="/vdoingBlog/assets/js/160.f6a1a2f6.js"><link rel="prefetch" href="/vdoingBlog/assets/js/161.4de2d7b6.js"><link rel="prefetch" href="/vdoingBlog/assets/js/162.e07ff9e5.js"><link rel="prefetch" href="/vdoingBlog/assets/js/163.b6d85d31.js"><link rel="prefetch" href="/vdoingBlog/assets/js/164.9df7b62a.js"><link rel="prefetch" href="/vdoingBlog/assets/js/165.15094616.js"><link rel="prefetch" href="/vdoingBlog/assets/js/166.4502e212.js"><link rel="prefetch" href="/vdoingBlog/assets/js/167.0082e3a6.js"><link rel="prefetch" href="/vdoingBlog/assets/js/168.a1f1e027.js"><link rel="prefetch" href="/vdoingBlog/assets/js/169.7182c79d.js"><link rel="prefetch" href="/vdoingBlog/assets/js/17.a6b9fe89.js"><link rel="prefetch" href="/vdoingBlog/assets/js/170.419f80a9.js"><link rel="prefetch" href="/vdoingBlog/assets/js/171.067de789.js"><link rel="prefetch" href="/vdoingBlog/assets/js/172.ebcd5f51.js"><link rel="prefetch" href="/vdoingBlog/assets/js/173.6ea25a9e.js"><link rel="prefetch" href="/vdoingBlog/assets/js/174.048ac45b.js"><link rel="prefetch" href="/vdoingBlog/assets/js/175.21ad8213.js"><link rel="prefetch" href="/vdoingBlog/assets/js/176.fc821e09.js"><link rel="prefetch" href="/vdoingBlog/assets/js/177.288a7737.js"><link rel="prefetch" href="/vdoingBlog/assets/js/178.0f0a8e39.js"><link rel="prefetch" href="/vdoingBlog/assets/js/179.5e6de083.js"><link rel="prefetch" href="/vdoingBlog/assets/js/18.6be9a6f0.js"><link rel="prefetch" href="/vdoingBlog/assets/js/180.a2bb75b2.js"><link rel="prefetch" href="/vdoingBlog/assets/js/181.cc9aad01.js"><link rel="prefetch" href="/vdoingBlog/assets/js/182.3be491c0.js"><link rel="prefetch" href="/vdoingBlog/assets/js/183.ff692088.js"><link rel="prefetch" href="/vdoingBlog/assets/js/184.ab527a41.js"><link rel="prefetch" href="/vdoingBlog/assets/js/185.27c47df6.js"><link rel="prefetch" href="/vdoingBlog/assets/js/186.e79580bc.js"><link rel="prefetch" href="/vdoingBlog/assets/js/187.216360af.js"><link rel="prefetch" href="/vdoingBlog/assets/js/188.24cadeb0.js"><link rel="prefetch" href="/vdoingBlog/assets/js/189.da233a87.js"><link rel="prefetch" href="/vdoingBlog/assets/js/19.86f6452b.js"><link rel="prefetch" href="/vdoingBlog/assets/js/190.7f5da3da.js"><link rel="prefetch" href="/vdoingBlog/assets/js/191.8c4fce80.js"><link rel="prefetch" href="/vdoingBlog/assets/js/192.de037120.js"><link rel="prefetch" href="/vdoingBlog/assets/js/193.49af491f.js"><link rel="prefetch" href="/vdoingBlog/assets/js/194.33cd7c3d.js"><link rel="prefetch" href="/vdoingBlog/assets/js/195.d50e2b4a.js"><link rel="prefetch" href="/vdoingBlog/assets/js/196.f4ac2d96.js"><link rel="prefetch" href="/vdoingBlog/assets/js/197.e83bd5da.js"><link rel="prefetch" href="/vdoingBlog/assets/js/198.b746f9b4.js"><link rel="prefetch" href="/vdoingBlog/assets/js/199.287a6928.js"><link rel="prefetch" href="/vdoingBlog/assets/js/20.7ca85149.js"><link rel="prefetch" href="/vdoingBlog/assets/js/200.af57083b.js"><link rel="prefetch" href="/vdoingBlog/assets/js/201.de53962d.js"><link rel="prefetch" href="/vdoingBlog/assets/js/202.e39e4c9e.js"><link rel="prefetch" href="/vdoingBlog/assets/js/203.8a43da34.js"><link rel="prefetch" href="/vdoingBlog/assets/js/204.3b48e56b.js"><link rel="prefetch" href="/vdoingBlog/assets/js/205.58152076.js"><link rel="prefetch" href="/vdoingBlog/assets/js/206.7a570980.js"><link rel="prefetch" href="/vdoingBlog/assets/js/207.522085c9.js"><link rel="prefetch" href="/vdoingBlog/assets/js/208.c169e955.js"><link rel="prefetch" href="/vdoingBlog/assets/js/209.243ad8a0.js"><link rel="prefetch" href="/vdoingBlog/assets/js/21.bba7fcbf.js"><link rel="prefetch" href="/vdoingBlog/assets/js/210.c3553b91.js"><link rel="prefetch" href="/vdoingBlog/assets/js/211.e8a75c3c.js"><link rel="prefetch" href="/vdoingBlog/assets/js/212.199703db.js"><link rel="prefetch" href="/vdoingBlog/assets/js/213.2dea942d.js"><link rel="prefetch" href="/vdoingBlog/assets/js/214.40c70c39.js"><link rel="prefetch" href="/vdoingBlog/assets/js/215.6ddaa777.js"><link rel="prefetch" href="/vdoingBlog/assets/js/216.b8389550.js"><link rel="prefetch" href="/vdoingBlog/assets/js/217.034a8d97.js"><link rel="prefetch" href="/vdoingBlog/assets/js/218.326799dd.js"><link rel="prefetch" href="/vdoingBlog/assets/js/219.1ce05f0c.js"><link rel="prefetch" href="/vdoingBlog/assets/js/22.6a217f79.js"><link rel="prefetch" href="/vdoingBlog/assets/js/220.f4b2b31f.js"><link rel="prefetch" href="/vdoingBlog/assets/js/221.6f4b7e7d.js"><link rel="prefetch" href="/vdoingBlog/assets/js/222.ddfc21ad.js"><link rel="prefetch" href="/vdoingBlog/assets/js/223.3285a573.js"><link rel="prefetch" href="/vdoingBlog/assets/js/224.1887e1cf.js"><link rel="prefetch" href="/vdoingBlog/assets/js/225.d665d7de.js"><link rel="prefetch" href="/vdoingBlog/assets/js/226.d8d88acb.js"><link rel="prefetch" href="/vdoingBlog/assets/js/227.dedbc9b5.js"><link rel="prefetch" href="/vdoingBlog/assets/js/228.9f28147a.js"><link rel="prefetch" href="/vdoingBlog/assets/js/229.5d3f5869.js"><link rel="prefetch" href="/vdoingBlog/assets/js/23.6f37664f.js"><link rel="prefetch" href="/vdoingBlog/assets/js/230.b31887a1.js"><link rel="prefetch" href="/vdoingBlog/assets/js/231.67fec01a.js"><link rel="prefetch" href="/vdoingBlog/assets/js/232.bea7df27.js"><link rel="prefetch" href="/vdoingBlog/assets/js/233.5b3c6857.js"><link rel="prefetch" href="/vdoingBlog/assets/js/234.55f4734c.js"><link rel="prefetch" href="/vdoingBlog/assets/js/235.64aa2ea9.js"><link rel="prefetch" href="/vdoingBlog/assets/js/236.a2b44de4.js"><link rel="prefetch" href="/vdoingBlog/assets/js/237.ce4d1dda.js"><link rel="prefetch" href="/vdoingBlog/assets/js/238.00c4438d.js"><link rel="prefetch" href="/vdoingBlog/assets/js/239.3a6c497a.js"><link rel="prefetch" href="/vdoingBlog/assets/js/24.330545a3.js"><link rel="prefetch" href="/vdoingBlog/assets/js/240.3289617c.js"><link rel="prefetch" href="/vdoingBlog/assets/js/241.44123b24.js"><link rel="prefetch" href="/vdoingBlog/assets/js/242.f6843956.js"><link rel="prefetch" href="/vdoingBlog/assets/js/243.0eb3259e.js"><link rel="prefetch" href="/vdoingBlog/assets/js/244.b456176f.js"><link rel="prefetch" href="/vdoingBlog/assets/js/245.464aa68a.js"><link rel="prefetch" href="/vdoingBlog/assets/js/246.b2fd97f3.js"><link rel="prefetch" href="/vdoingBlog/assets/js/247.01768412.js"><link rel="prefetch" href="/vdoingBlog/assets/js/248.cb33fa7d.js"><link rel="prefetch" href="/vdoingBlog/assets/js/249.d0a22772.js"><link rel="prefetch" href="/vdoingBlog/assets/js/25.2affc905.js"><link rel="prefetch" href="/vdoingBlog/assets/js/250.bbb1d9f8.js"><link rel="prefetch" href="/vdoingBlog/assets/js/251.17732198.js"><link rel="prefetch" href="/vdoingBlog/assets/js/252.67ead1f3.js"><link rel="prefetch" href="/vdoingBlog/assets/js/253.ff7432e4.js"><link rel="prefetch" href="/vdoingBlog/assets/js/254.58f13ff0.js"><link rel="prefetch" href="/vdoingBlog/assets/js/255.96282a6c.js"><link rel="prefetch" href="/vdoingBlog/assets/js/256.16c6996c.js"><link rel="prefetch" href="/vdoingBlog/assets/js/257.11426b0d.js"><link rel="prefetch" href="/vdoingBlog/assets/js/258.fc70ecd1.js"><link rel="prefetch" href="/vdoingBlog/assets/js/259.64662286.js"><link rel="prefetch" href="/vdoingBlog/assets/js/26.7460efa9.js"><link rel="prefetch" href="/vdoingBlog/assets/js/260.be886c6b.js"><link rel="prefetch" href="/vdoingBlog/assets/js/261.25f1bb31.js"><link rel="prefetch" href="/vdoingBlog/assets/js/262.793852d7.js"><link rel="prefetch" href="/vdoingBlog/assets/js/263.4963bbd6.js"><link rel="prefetch" href="/vdoingBlog/assets/js/264.e91dc44c.js"><link rel="prefetch" href="/vdoingBlog/assets/js/265.2e93a9c1.js"><link rel="prefetch" href="/vdoingBlog/assets/js/266.d5ed2010.js"><link rel="prefetch" href="/vdoingBlog/assets/js/267.002129a4.js"><link rel="prefetch" href="/vdoingBlog/assets/js/268.09446f1b.js"><link rel="prefetch" href="/vdoingBlog/assets/js/269.23bf3d9b.js"><link rel="prefetch" href="/vdoingBlog/assets/js/27.8cf99488.js"><link rel="prefetch" href="/vdoingBlog/assets/js/270.dd152eff.js"><link rel="prefetch" href="/vdoingBlog/assets/js/271.38eeda08.js"><link rel="prefetch" href="/vdoingBlog/assets/js/272.41de06d9.js"><link rel="prefetch" href="/vdoingBlog/assets/js/273.b8af50b4.js"><link rel="prefetch" href="/vdoingBlog/assets/js/274.724e5983.js"><link rel="prefetch" href="/vdoingBlog/assets/js/275.713c772c.js"><link rel="prefetch" href="/vdoingBlog/assets/js/276.c7c193c3.js"><link rel="prefetch" href="/vdoingBlog/assets/js/277.893f4cf7.js"><link rel="prefetch" href="/vdoingBlog/assets/js/278.358b4464.js"><link rel="prefetch" href="/vdoingBlog/assets/js/279.41cb7fc2.js"><link rel="prefetch" href="/vdoingBlog/assets/js/28.5e432976.js"><link rel="prefetch" href="/vdoingBlog/assets/js/280.db41c095.js"><link rel="prefetch" href="/vdoingBlog/assets/js/281.bb0b84a9.js"><link rel="prefetch" href="/vdoingBlog/assets/js/282.54b9417c.js"><link rel="prefetch" href="/vdoingBlog/assets/js/29.f7b9a0a6.js"><link rel="prefetch" href="/vdoingBlog/assets/js/30.fce3b883.js"><link rel="prefetch" href="/vdoingBlog/assets/js/31.e0777ef5.js"><link rel="prefetch" href="/vdoingBlog/assets/js/32.025aa98c.js"><link rel="prefetch" href="/vdoingBlog/assets/js/33.d34cfc3c.js"><link rel="prefetch" href="/vdoingBlog/assets/js/34.223f1e50.js"><link rel="prefetch" href="/vdoingBlog/assets/js/35.3d291932.js"><link rel="prefetch" href="/vdoingBlog/assets/js/36.74b28a40.js"><link rel="prefetch" href="/vdoingBlog/assets/js/37.f0702c91.js"><link rel="prefetch" href="/vdoingBlog/assets/js/38.15da7dbf.js"><link rel="prefetch" href="/vdoingBlog/assets/js/39.932b8cb6.js"><link rel="prefetch" href="/vdoingBlog/assets/js/4.a491a05d.js"><link rel="prefetch" href="/vdoingBlog/assets/js/40.e249bf9a.js"><link rel="prefetch" href="/vdoingBlog/assets/js/41.690459ca.js"><link rel="prefetch" href="/vdoingBlog/assets/js/42.5bd5f7f0.js"><link rel="prefetch" href="/vdoingBlog/assets/js/43.f7e5a4b6.js"><link rel="prefetch" href="/vdoingBlog/assets/js/44.5a483a79.js"><link rel="prefetch" href="/vdoingBlog/assets/js/45.c0bc03f5.js"><link rel="prefetch" href="/vdoingBlog/assets/js/46.a5974c35.js"><link rel="prefetch" href="/vdoingBlog/assets/js/47.747acaf5.js"><link rel="prefetch" href="/vdoingBlog/assets/js/48.58258c94.js"><link rel="prefetch" href="/vdoingBlog/assets/js/49.973c09f1.js"><link rel="prefetch" href="/vdoingBlog/assets/js/5.5bfcaf23.js"><link rel="prefetch" href="/vdoingBlog/assets/js/50.8cf73048.js"><link rel="prefetch" href="/vdoingBlog/assets/js/51.b21c4ce2.js"><link rel="prefetch" href="/vdoingBlog/assets/js/52.93254a3c.js"><link rel="prefetch" href="/vdoingBlog/assets/js/53.62ca680c.js"><link rel="prefetch" href="/vdoingBlog/assets/js/54.b69108ab.js"><link rel="prefetch" href="/vdoingBlog/assets/js/55.91dc99a4.js"><link rel="prefetch" href="/vdoingBlog/assets/js/56.4c7a79d1.js"><link rel="prefetch" href="/vdoingBlog/assets/js/57.83aef27e.js"><link rel="prefetch" href="/vdoingBlog/assets/js/58.54926fb5.js"><link rel="prefetch" href="/vdoingBlog/assets/js/59.c69b7d5a.js"><link rel="prefetch" href="/vdoingBlog/assets/js/6.a1476036.js"><link rel="prefetch" href="/vdoingBlog/assets/js/60.34ba73de.js"><link rel="prefetch" href="/vdoingBlog/assets/js/61.dfad92b5.js"><link rel="prefetch" href="/vdoingBlog/assets/js/62.969e8a20.js"><link rel="prefetch" href="/vdoingBlog/assets/js/63.b8e0f8a2.js"><link rel="prefetch" href="/vdoingBlog/assets/js/64.d8b8bd5e.js"><link rel="prefetch" href="/vdoingBlog/assets/js/65.e5de6837.js"><link rel="prefetch" href="/vdoingBlog/assets/js/66.a26401e1.js"><link rel="prefetch" href="/vdoingBlog/assets/js/67.00210a72.js"><link rel="prefetch" href="/vdoingBlog/assets/js/68.e910883f.js"><link rel="prefetch" href="/vdoingBlog/assets/js/69.4ee7f4d3.js"><link rel="prefetch" href="/vdoingBlog/assets/js/7.97c75439.js"><link rel="prefetch" href="/vdoingBlog/assets/js/70.a460a602.js"><link rel="prefetch" href="/vdoingBlog/assets/js/71.5c33e129.js"><link rel="prefetch" href="/vdoingBlog/assets/js/72.a71d8d18.js"><link rel="prefetch" href="/vdoingBlog/assets/js/73.5742fae2.js"><link rel="prefetch" href="/vdoingBlog/assets/js/74.51cb4883.js"><link rel="prefetch" href="/vdoingBlog/assets/js/75.e88f1ce2.js"><link rel="prefetch" href="/vdoingBlog/assets/js/76.0ba0af41.js"><link rel="prefetch" href="/vdoingBlog/assets/js/77.64546166.js"><link rel="prefetch" href="/vdoingBlog/assets/js/78.6ba65b66.js"><link rel="prefetch" href="/vdoingBlog/assets/js/79.14e24020.js"><link rel="prefetch" href="/vdoingBlog/assets/js/8.a941c0a5.js"><link rel="prefetch" href="/vdoingBlog/assets/js/80.b9cd74eb.js"><link rel="prefetch" href="/vdoingBlog/assets/js/81.f49a364d.js"><link rel="prefetch" href="/vdoingBlog/assets/js/82.7d338240.js"><link rel="prefetch" href="/vdoingBlog/assets/js/83.fcbcdac1.js"><link rel="prefetch" href="/vdoingBlog/assets/js/84.1003ec25.js"><link rel="prefetch" href="/vdoingBlog/assets/js/85.0b8c5902.js"><link rel="prefetch" href="/vdoingBlog/assets/js/86.4e9c3774.js"><link rel="prefetch" href="/vdoingBlog/assets/js/87.8be27033.js"><link rel="prefetch" href="/vdoingBlog/assets/js/88.cdf074e7.js"><link rel="prefetch" href="/vdoingBlog/assets/js/89.8d3f92c1.js"><link rel="prefetch" href="/vdoingBlog/assets/js/90.089c63ac.js"><link rel="prefetch" href="/vdoingBlog/assets/js/91.397865aa.js"><link rel="prefetch" href="/vdoingBlog/assets/js/92.240472ae.js"><link rel="prefetch" href="/vdoingBlog/assets/js/93.2e5c2e33.js"><link rel="prefetch" href="/vdoingBlog/assets/js/94.788d4e86.js"><link rel="prefetch" href="/vdoingBlog/assets/js/95.d69ebc8e.js"><link rel="prefetch" href="/vdoingBlog/assets/js/96.ccf3cb00.js"><link rel="prefetch" href="/vdoingBlog/assets/js/97.a44a6468.js"><link rel="prefetch" href="/vdoingBlog/assets/js/98.f286d274.js"><link rel="prefetch" href="/vdoingBlog/assets/js/99.e3822a1d.js">
    <link rel="stylesheet" href="/vdoingBlog/assets/css/0.styles.1a8a0045.css">
    <style>
      .theme-mode-light:after{background-image: url(https://img.xjh.me/random_img.php?ctype=acg&return=302&type=bg);content: "";background-repeat: no-repeat;background-position: 50%;opacity: .06;-moz-filter: grayscale(100%);-ms-filter: grayscale(100%);-o-filter: grayscale(100%);filter: grayscale(100%);filter: #808080;position: fixed;top: 0;left: 0;width: 100%;height: 100%;z-index: -1;}
      .theme-vdoing-wrapper{letter-spacing: 2px!important;background-image: linear-gradient(90deg, rgba(50, 0, 0, 0.05) 3%, rgba(0, 0, 0, 0) 3%), linear-gradient(360deg, rgba(50, 0, 0, 0.05) 3%, rgba(0, 0, 0, 0) 3%)!important;background-size: 20px 20px!important;background-position: center center!important}
</style>
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vdoingBlog/" class="home-link router-link-active"><img src="/vdoingBlog/img/csdn.png" alt="時念" class="logo"> <span class="site-name can-hide"></span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vdoingBlog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/vdoingBlog/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vdoingBlog/pages/8143cc480faf9a11/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/pages/802a1ca6f7b71c59/" class="nav-link">Vue</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vdoingBlog/note/javascript/" class="nav-link">《JavaScript教程》笔记</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/note/es6/" class="nav-link">《ES6 教程》笔记</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/note/vue/" class="nav-link">《Vue》笔记</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/note/typescript-axios/" class="nav-link">《TypeScript 从零实现 axios》</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/note/wx-miniprogram/" class="nav-link">小程序笔记</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/note/javascriptbasics/" class="nav-link">JavaScript 基础</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/vdoingBlog/engineer/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>后端笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vdoingBlog/pages/7fae73/" class="nav-link">Java</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/pages/fa6492/" class="nav-link">Spring</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/pages/37120b/" class="nav-link">算法</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/pages/53649b/" class="nav-link">高可用</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/pages/7d465c/" class="nav-link">高并发</a></li></ul></li><li class="dropdown-item"><h4>工作问题</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vdoingBlog/pages/79637f/" class="nav-link">问题记录</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/vdoingBlog/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vdoingBlog/pages/9a7ee40fc232253e/" class="nav-link">各类工具使用</a></li><li class="dropdown-item"><!----> <a href="/vdoingBlog/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/vdoingBlog/pages/41f87d890d0a02af/" class="nav-link">博客搭建</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试" class="dropdown-title"><a href="/vdoingBlog/interview/" class="link-title">面试</a> <span class="title" style="display:none;">面试</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>面试题库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vdoingBlog/pages/a134b2/" class="nav-link">零碎</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/note/mianshi/" class="nav-link">面试常见题目汇总</a></li></ul></li><li class="dropdown-item"><h4>面试心得</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vdoingBlog/pages/aea6571b7a8bae86/" class="nav-link">面试集锦</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/pages/331dbf/" class="nav-link">杂言碎语</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="读书派" class="dropdown-title"><a href="/vdoingBlog/bookssent/" class="link-title">读书派</a> <span class="title" style="display:none;">读书派</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>摘抄收录</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vdoingBlog/ChickenSoup/" class="nav-link">☆ 励志鸡汤</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/PassionLife/" class="nav-link">❀ 人间烟火</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/ThingsLost/" class="nav-link">☣ 万物沦丧</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/NoTrouble/" class="nav-link">✌ 关掉烦恼</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/Bistro/" class="nav-link">✲ 小酒馆</a></li></ul></li><li class="dropdown-item"><h4>读书笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vdoingBlog/note/xgqq/" class="nav-link">《小狗钱钱》</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/note/qbbfbb/" class="nav-link">《穷爸爸富爸爸》</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/note/cmrsyfgbjb/" class="nav-link">《聪明人使用方格笔记本》</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/vdoingBlog/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vdoingBlog/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-item"><!----> <a href="/vdoingBlog/pages/2d615df9a36a98ed/" class="nav-link">心情杂货</a></li><li class="dropdown-item"><!----> <a href="/vdoingBlog/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/vdoingBlog/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏" class="dropdown-title"><a href="/vdoingBlog/pages/beb6c0bd8a66cea6/" class="link-title">收藏</a> <span class="title" style="display:none;">收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vdoingBlog/pages/beb6c0bd8a66cea6/" class="nav-link">网站</a></li><li class="dropdown-item"><!----> <a href="/vdoingBlog/pages/eee83a9211a70f9d/" class="nav-link">资源</a></li><li class="dropdown-item"><!----> <a href="/vdoingBlog/pages/12df8ace52d493f6/" class="nav-link">Vue资源</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/vdoingBlog/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vdoingBlog/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/vdoingBlog/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/vdoingBlog/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/pasregret/vdoingBlog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/vdoingBlog/img/tx.jpg"> <div class="blogger-info"><h3>時念</h3> <span>
        一个有梦想的后端小菜鸡(✪ω✪)
      </span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/vdoingBlog/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/vdoingBlog/web/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>前端文章</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vdoingBlog/pages/8143cc480faf9a11/" class="nav-link">JavaScript</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/pages/802a1ca6f7b71c59/" class="nav-link">Vue</a></li></ul></li><li class="dropdown-item"><h4>学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vdoingBlog/note/javascript/" class="nav-link">《JavaScript教程》笔记</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/note/es6/" class="nav-link">《ES6 教程》笔记</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/note/vue/" class="nav-link">《Vue》笔记</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/note/typescript-axios/" class="nav-link">《TypeScript 从零实现 axios》</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/note/wx-miniprogram/" class="nav-link">小程序笔记</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/note/javascriptbasics/" class="nav-link">JavaScript 基础</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/vdoingBlog/engineer/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>后端笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vdoingBlog/pages/7fae73/" class="nav-link">Java</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/pages/fa6492/" class="nav-link">Spring</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/pages/37120b/" class="nav-link">算法</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/pages/53649b/" class="nav-link">高可用</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/pages/7d465c/" class="nav-link">高并发</a></li></ul></li><li class="dropdown-item"><h4>工作问题</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vdoingBlog/pages/79637f/" class="nav-link">问题记录</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/vdoingBlog/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vdoingBlog/pages/9a7ee40fc232253e/" class="nav-link">各类工具使用</a></li><li class="dropdown-item"><!----> <a href="/vdoingBlog/pages/4c778760be26d8b3/" class="nav-link">GitHub技巧</a></li><li class="dropdown-item"><!----> <a href="/vdoingBlog/pages/41f87d890d0a02af/" class="nav-link">博客搭建</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="面试" class="dropdown-title"><a href="/vdoingBlog/interview/" class="link-title">面试</a> <span class="title" style="display:none;">面试</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>面试题库</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vdoingBlog/pages/a134b2/" class="nav-link">零碎</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/note/mianshi/" class="nav-link">面试常见题目汇总</a></li></ul></li><li class="dropdown-item"><h4>面试心得</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vdoingBlog/pages/aea6571b7a8bae86/" class="nav-link">面试集锦</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/pages/331dbf/" class="nav-link">杂言碎语</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="读书派" class="dropdown-title"><a href="/vdoingBlog/bookssent/" class="link-title">读书派</a> <span class="title" style="display:none;">读书派</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>摘抄收录</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vdoingBlog/ChickenSoup/" class="nav-link">☆ 励志鸡汤</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/PassionLife/" class="nav-link">❀ 人间烟火</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/ThingsLost/" class="nav-link">☣ 万物沦丧</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/NoTrouble/" class="nav-link">✌ 关掉烦恼</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/Bistro/" class="nav-link">✲ 小酒馆</a></li></ul></li><li class="dropdown-item"><h4>读书笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vdoingBlog/note/xgqq/" class="nav-link">《小狗钱钱》</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/note/qbbfbb/" class="nav-link">《穷爸爸富爸爸》</a></li><li class="dropdown-subitem"><a href="/vdoingBlog/note/cmrsyfgbjb/" class="nav-link">《聪明人使用方格笔记本》</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/vdoingBlog/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vdoingBlog/pages/f2a556/" class="nav-link">学习</a></li><li class="dropdown-item"><!----> <a href="/vdoingBlog/pages/2d615df9a36a98ed/" class="nav-link">心情杂货</a></li><li class="dropdown-item"><!----> <a href="/vdoingBlog/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/vdoingBlog/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏" class="dropdown-title"><a href="/vdoingBlog/pages/beb6c0bd8a66cea6/" class="link-title">收藏</a> <span class="title" style="display:none;">收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vdoingBlog/pages/beb6c0bd8a66cea6/" class="nav-link">网站</a></li><li class="dropdown-item"><!----> <a href="/vdoingBlog/pages/eee83a9211a70f9d/" class="nav-link">资源</a></li><li class="dropdown-item"><!----> <a href="/vdoingBlog/pages/12df8ace52d493f6/" class="nav-link">Vue资源</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/vdoingBlog/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vdoingBlog/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/vdoingBlog/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/vdoingBlog/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/pasregret/vdoingBlog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>java</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vdoingBlog/pages/7fae73/" class="sidebar-link">java测试</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>spring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>问题记录</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>高可用</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"> <div class="theme-vdoing-wrapper"><div class="articleInfo-wrap" data-v-f6108aee><div class="articleInfo" data-v-f6108aee><ul class="breadcrumbs" data-v-f6108aee><li data-v-f6108aee><a href="/vdoingBlog/" title="首页" class="iconfont icon-home router-link-active" data-v-f6108aee></a></li> <li data-v-f6108aee><a href="/vdoingBlog/engineer" title="后端-目录页" data-v-f6108aee>后端</a></li> <!----></ul> <div class="info" data-v-f6108aee><div title="作者" class="author iconfont icon-touxiang" data-v-f6108aee><a href="https://github.com/pasregret" target="_blank" title="作者" class="beLink" data-v-f6108aee>時念</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-f6108aee><a href="javascript:;" data-v-f6108aee>2024-03-26</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">
          redis-caching-avalanche-and-caching-penetration
        </h1> <div class="theme-vdoing-content content__default"><h2 id="面试题"><a href="#面试题" class="header-anchor">#</a> 面试题</h2> <p>了解什么是 Redis 的雪崩、穿透和击穿？Redis 崩溃之后会怎么样？系统该如何应对这种情况？如何处理 Redis 的穿透？</p> <h2 id="面试官心理分析"><a href="#面试官心理分析" class="header-anchor">#</a> 面试官心理分析</h2> <p>其实这是问到缓存必问的，因为缓存雪崩和穿透，是缓存最大的两个问题，要么不出现，一旦出现就是致命性的问题，所以面试官一定会问你。</p> <h2 id="面试题剖析"><a href="#面试题剖析" class="header-anchor">#</a> 面试题剖析</h2> <h3 id="缓存雪崩-cache-avalanche"><a href="#缓存雪崩-cache-avalanche" class="header-anchor">#</a> 缓存雪崩(Cache Avalanche)</h3> <p>对于系统 A，假设每天高峰期每秒 5000 个请求，本来缓存在高峰期可以扛住每秒 4000 个请求，但是缓存机器意外发生了全盘宕机。缓存挂了，此时 1 秒 5000 个请求全部落数据库，数据库必然扛不住，它会报一下警，然后就挂了。此时，如果没有采用什么特别的方案来处理这个故障，DBA 很着急，重启数据库，但是数据库立马又被新的流量给打死了。</p> <p>这就是缓存雪崩。</p> <p><img src="/vdoingBlog/assets/img/redis-caching-avalanche.0b0f366a.png" alt="redis-caching-avalanche"></p> <p>大约在 3 年前，国内比较知名的一个互联网公司，曾因为缓存事故，导致雪崩，后台系统全部崩溃，事故从当天下午持续到晚上凌晨 3~4 点，公司损失了几千万。</p> <p>缓存雪崩的事前事中事后的解决方案如下：</p> <ul><li>事前：Redis 高可用，主从+哨兵，Redis cluster，避免全盘崩溃。</li> <li>事中：本地 ehcache 缓存 + hystrix 限流&amp;降级，避免 MySQL 被打死。</li> <li>事后：Redis 持久化，一旦重启，自动从磁盘上加载数据，快速恢复缓存数据。</li></ul> <p><img src="/vdoingBlog/assets/img/redis-caching-avalanche-solution.70fc05a4.png" alt="redis-caching-avalanche-solution"></p> <p>用户发送一个请求，系统 A 收到请求后，先查本地 ehcache 缓存，如果没查到再查 Redis。如果 ehcache 和 Redis 都没有，再查数据库，将数据库中的结果，写入 ehcache 和 Redis 中。</p> <p>限流组件，可以设置每秒的请求，有多少能通过组件，剩余的未通过的请求，怎么办？<strong>走降级</strong>！可以返回一些默认的值，或者友情提示，或者空值。</p> <p>好处：</p> <ul><li>数据库绝对不会死，限流组件确保了每秒只有多少个请求能通过。</li> <li>只要数据库不死，就是说，对用户来说，2/5 的请求都是可以被处理的。</li> <li>只要有 2/5 的请求可以被处理，就意味着你的系统没死，对用户来说，可能就是点击几次刷不出来页面，但是多点几次，就可以刷出来了。</li></ul> <h3 id="缓存穿透-cache-penetration"><a href="#缓存穿透-cache-penetration" class="header-anchor">#</a> 缓存穿透(Cache Penetration)</h3> <p>对于系统 A，假设一秒 5000 个请求，结果其中 4000 个请求是黑客发出的恶意攻击。</p> <p>黑客发出的那 4000 个攻击，缓存中查不到，每次你去数据库里查，也查不到。</p> <p>举个栗子。数据库 id 是从 1 开始的，结果黑客发过来的请求 id 全部都是负数。这样的话，缓存中不会有，请求每次都“<strong>视缓存于无物</strong>”，直接查询数据库。这种恶意攻击场景的缓存穿透就会直接把数据库给打死。</p> <p><img src="/vdoingBlog/assets/img/redis-caching-penetration.c1aeabb2.png" alt="redis-caching-penetration"></p> <p>解决方式很简单，每次系统 A 从数据库中只要没查到，就写一个空值到缓存里去，比如 <code>set -999 UNKNOWN</code> 。然后设置一个过期时间，这样的话，下次有相同的 key 来访问的时候，在缓存失效之前，都可以直接从缓存中取数据。</p> <p>当然，如果黑客如果每次使用不同的负数 id 来攻击，写空值的方法可能就不奏效了。更为经常的做法是在缓存之前增加布隆过滤器，将数据库中所有可能的数据哈希映射到布隆过滤器中。然后对每个请求进行如下判断：</p> <ul><li>请求数据的 key 不存在于布隆过滤器中，可以确定数据就一定不会存在于数据库中，系统可以立即返回不存在。</li> <li>请求数据的 key 存在于布隆过滤器中，则继续再向缓存中查询。</li></ul> <p>使用布隆过滤器能够对访问的请求起到了一定的初筛作用，避免了因数据不存在引起的查询压力。</p> <p><img src="data:image/png;base64,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" alt="redis-caching-avoid-penetration"></p> <h3 id="缓存击穿-hotspot-invalid"><a href="#缓存击穿-hotspot-invalid" class="header-anchor">#</a> 缓存击穿(Hotspot Invalid)</h3> <p>缓存击穿，就是说某个 key 非常热点，访问非常频繁，处于集中式高并发访问的情况，当这个 key 在失效的瞬间，大量的请求就击穿了缓存，直接请求数据库，就像是在一道屏障上凿开了一个洞。</p> <p>不同场景下的解决方式可如下：</p> <ul><li>若缓存的数据是基本不会发生更新的，则可尝试将该热点数据设置为永不过期。</li> <li>若缓存的数据更新不频繁，且缓存刷新的整个流程耗时较少的情况下，则可以采用基于 Redis、zookeeper 等分布式中间件的分布式互斥锁，或者本地互斥锁以保证仅少量的请求能请求数据库并重新构建缓存，其余线程则在锁释放后能访问到新缓存。</li> <li>若缓存的数据更新频繁或者在缓存刷新的流程耗时较长的情况下，可以利用定时线程在缓存过期前主动地重新构建缓存或者延后缓存的过期时间，以保证所有的请求能一直访问到对应的缓存。</li></ul></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/pasregret/vdoingBlog/edit/master/docs/02.后端/high-concurrency/redis-caching-avalanche-and-caching-penetration.md" target="_blank" rel="noopener noreferrer">编辑</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2024/03/26, 9:03:00</span></div></div> <div class="page-nav-wapper"><!----> <!----></div></div> <div class="article-list"><div class="article-title"><a href="/vdoingBlog/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/vdoingBlog/pages/bc52b9/"><div>database-shard-dynamic-expand</div></a> <span>03-26</span></dt></dl><dl><dd>02</dd> <dt><a href="/vdoingBlog/pages/7d465c/"><div>README</div></a> <span>03-26</span></dt></dl><dl><dd>03</dd> <dt><a href="/vdoingBlog/pages/b3459f/"><div>database-shard-global-id-generate</div></a> <span>03-26</span></dt></dl> <dl><dd></dd> <dt><a href="/vdoingBlog/archives/" class="more">更多文章&gt;</a></dt></dl></div></div> </main></div> <div class="footer"><div class="icons"><a href="https://msg.cnblogs.com/send/pasregret" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://blog.csdn.net/qq_17589751?type=blog" title="CSDN" target="_blank" class="iconfont icon-csdn"></a><a href="https://github.com/pasregret" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=2507037283" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
     | Copyright © 2019-2024
    <span>時念 | <a href="https://github.com/pasregret/vdoingBlog/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/vdoingBlog/assets/js/app.b9445f3d.js" defer></script><script src="/vdoingBlog/assets/js/2.6f6622d0.js" defer></script><script src="/vdoingBlog/assets/js/3.2637abc7.js" defer></script><script src="/vdoingBlog/assets/js/9.249dec4c.js" defer></script>
  </body>
</html>