(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{364:function(A,s){A.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfcAAAEACAQAAAAE6/cNAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfiDBkPJjpxN/iWAAAORklEQVR42u2d/XdV1Z2HGTuzulbXmvkL+mN/7lrZiXAxIeZiaJOmREMnCOMSpWCra2rtwvGNCjpUnYKMnUVb2ilrdKY6gw4zzQJmtNVaxIKFEUIbkULFikhpJGB4ScC8PvNDdo73LYD1muTePM/+4Z57Tu7Oyed7n7P32TeQadNEREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREREZIpyReXSsD10BUq0dYXtlUunXWE+E5KP6ZSW7GFryZYqs235mEpmPqZTPlQuDcynnR5KlR7amU+gYon5jHc+plNihO2BdkqdvQTCS+Yz3vmYTqnp3hVK+No8yjkCoct8xjsf0yk13QmUA4GA+Yx3Pqaj7uqu7qaj7uqu7uqu7uqu7uqu7uqu7upuwdRd3dXdgpmPuqu7BTMfdVd3C2Y+pqPuFsx8TEfd1d18TEfd1V3dTUfd1V3d1V3d1V3d1V3d1V3d1d23s7qru7pbMHVXd3W3YOaj7upuwczHdNTdgpmP6ai7upuP6ai7uqu76ai7uqu7uqu7uqu7uqu7uqu7uqu7uqu7ulswdVd3dZ+UBXub6+hT9zLKx3TUfUw6COpeVvmYzpTRvYPAFubwOXbzFHXUsx2A3SxkOl/kFQA2MocUjyahjn6/PlZTRzX3cS72tZl0/Lry0H0q5GM6U0r3x+hlJfU8TC8PcS0Av+B1+ljLXOAdArvpZX/e9XkFi+mkm1t5MB5ZTg/nykz3cs/HdKaU7n8AdsXHVwkMAnCBA/yQwACdVLK5wHTsPSo5BMAOZsUjB8tsMj8V8jGdKaV7b0YZRh/XUc8y7ovPnuXztNKeU7ADydQsEOing0BPGepe7vmYzhTX/R0CbwKvJMXpZy31OQXrJPDHAn2Vv+7llY/pTHHd3yKwgzPcTqCP4+xjgGeo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"},365:function(A,s){A.exports="data:image/png;base64,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"},366:function(A,s){A.exports="data:image/png;base64,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"},367:function(A,s,i){A.exports=i.p+"assets/img/consistent-hashing-algorithm.d9016a42.png"},368:function(A,s){A.exports="data:image/png;base64,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"},478:function(A,s,i){"use strict";i.r(s);var v=i(11),e=Object(v.a)({},(function(){var A=this,s=A._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":A.$parent.slotKey}},[s("h2",{attrs:{id:"面试题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#面试题"}},[A._v("#")]),A._v(" 面试题")]),A._v(" "),s("p",[A._v("Redis 集群模式的工作原理能说一下么？在集群模式下，Redis 的 key 是如何寻址的？分布式寻址都有哪些算法？了解一致性 hash 算法吗？")]),A._v(" "),s("h2",{attrs:{id:"面试官心理分析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#面试官心理分析"}},[A._v("#")]),A._v(" 面试官心理分析")]),A._v(" "),s("p",[A._v("在前几年，Redis 如果要搞几个节点，每个节点存储一部分的数据，得"),s("strong",[A._v("借助一些中间件")]),A._v("来实现，比如说有 "),s("code",[A._v("codis")]),A._v(" ，或者 "),s("code",[A._v("twemproxy")]),A._v(" ，都有。有一些 Redis 中间件，你读写 Redis 中间件，Redis 中间件负责将你的数据分布式存储在多台机器上的 Redis 实例中。")]),A._v(" "),s("p",[A._v("这两年，Redis 不断在发展，Redis 也不断有新的版本，现在的 Redis 集群模式，可以做到在多台机器上，部署多个 Redis 实例，每个实例存储一部分的数据，同时每个 Redis 主实例可以挂 Redis 从实例，自动确保说，如果 Redis 主实例挂了，会自动切换到 Redis 从实例上来。")]),A._v(" "),s("p",[A._v("现在 Redis 的新版本，大家都是用 Redis cluster 的，也就是 Redis 原生支持的 Redis 集群模式，那么面试官肯定会就 Redis cluster 对你来个几连炮。要是你没用过 Redis cluster，正常，以前很多人用 codis 之类的客户端来支持集群，但是起码你得研究一下 Redis cluster 吧。")]),A._v(" "),s("p",[A._v("如果你的数据量很少，主要是承载高并发高性能的场景，比如你的缓存一般就几个 G，单机就足够了，可以使用 replication，一个 master 多个 slaves，要几个 slave 跟你要求的读吞吐量有关，然后自己搭建一个 sentinel 集群去保证 Redis 主从架构的高可用性。")]),A._v(" "),s("p",[A._v("Redis cluster，主要是针对"),s("strong",[A._v("海量数据+高并发+高可用")]),A._v("的场景。Redis cluster 支撑 N 个 Redis master node，每个 master node 都可以挂载多个 slave node。这样整个 Redis 就可以横向扩容了。如果你要支撑更大数据量的缓存，那就横向扩容更多的 master 节点，每个 master 节点就能存放更多的数据了。")]),A._v(" "),s("h2",{attrs:{id:"面试题剖析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#面试题剖析"}},[A._v("#")]),A._v(" 面试题剖析")]),A._v(" "),s("h3",{attrs:{id:"redis-cluster-介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redis-cluster-介绍"}},[A._v("#")]),A._v(" Redis cluster 介绍")]),A._v(" "),s("ul",[s("li",[A._v("自动将数据进行分片，每个 master 上放一部分数据")]),A._v(" "),s("li",[A._v("提供内置的高可用支持，部分 master 不可用时，还是可以继续工作的")])]),A._v(" "),s("p",[A._v("在 Redis cluster 架构下，每个 Redis 要放开两个端口号，比如一个是 6379，另外一个就是 加 1w 的端口号，比如 16379。")]),A._v(" "),s("p",[A._v("16379 端口号是用来进行节点间通信的，也就是 cluster bus 的东西，cluster bus 的通信，用来进行故障检测、配置更新、故障转移授权。cluster bus 用了另外一种二进制的协议， "),s("code",[A._v("gossip")]),A._v(" 协议，用于节点间进行高效的数据交换，占用更少的网络带宽和处理时间。")]),A._v(" "),s("h3",{attrs:{id:"节点间的内部通信机制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#节点间的内部通信机制"}},[A._v("#")]),A._v(" 节点间的内部通信机制")]),A._v(" "),s("h4",{attrs:{id:"基本通信原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本通信原理"}},[A._v("#")]),A._v(" 基本通信原理")]),A._v(" "),s("p",[A._v("集群元数据的维护有两种方式：集中式、Gossip 协议。Redis cluster 节点间采用 gossip 协议进行通信。")]),A._v(" "),s("p",[s("strong",[A._v("集中式")]),A._v("是将集群元数据（节点信息、故障等等）集中存储在某个节点上。集中式元数据集中存储的一个典型代表，就是大数据领域的 "),s("code",[A._v("storm")]),A._v(" 。它是分布式的大数据实时计算引擎，是集中式的元数据存储的结构，底层基于 zookeeper（分布式协调的中间件）对所有元数据进行存储维护。")]),A._v(" "),s("p",[s("img",{attrs:{src:i(364),alt:"zookeeper-centralized-storage"}})]),A._v(" "),s("p",[A._v("Redis 维护集群元数据采用另一个方式， "),s("code",[A._v("gossip")]),A._v(" 协议，所有节点都持有一份元数据，不同的节点如果出现了元数据的变更，就不断将元数据发送给其它的节点，让其它节点也进行元数据的变更。")]),A._v(" "),s("p",[s("img",{attrs:{src:i(365),alt:"Redis-gossip"}})]),A._v(" "),s("p",[s("strong",[A._v("集中式")]),A._v("的"),s("strong",[A._v("好处")]),A._v("在于，元数据的读取和更新，时效性非常好，一旦元数据出现了变更，就立即更新到集中式的存储中，其它节点读取的时候就可以感知到；"),s("strong",[A._v("不好")]),A._v("在于，所有的元数据的更新压力全部集中在一个地方，可能会导致元数据的存储有压力。")]),A._v(" "),s("p",[A._v("gossip 好处在于，元数据的更新比较分散，不是集中在一个地方，更新请求会陆陆续续打到所有节点上去更新，降低了压力；不好在于，元数据的更新有延时，可能导致集群中的一些操作会有一些滞后。")]),A._v(" "),s("ul",[s("li",[s("p",[A._v("10000 端口：每个节点都有一个专门用于节点间通信的端口，就是自己提供服务的端口号+10000，比如 7001，那么用于节点间通信的就是 17001 端口。每个节点每隔一段时间都会往另外几个节点发送 "),s("code",[A._v("ping")]),A._v(" 消息，同时其它几个节点接收到 "),s("code",[A._v("ping")]),A._v(" 之后返回 "),s("code",[A._v("pong")]),A._v(" 。")])]),A._v(" "),s("li",[s("p",[A._v("交换的信息：信息包括故障信息，节点的增加和删除，hash slot 信息等等。")])])]),A._v(" "),s("h4",{attrs:{id:"gossip-协议"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gossip-协议"}},[A._v("#")]),A._v(" gossip 协议")]),A._v(" "),s("p",[A._v("gossip 协议包含多种消息，包含 "),s("code",[A._v("ping")]),A._v(" , "),s("code",[A._v("pong")]),A._v(" , "),s("code",[A._v("meet")]),A._v(" , "),s("code",[A._v("fail")]),A._v(" 等等。")]),A._v(" "),s("ul",[s("li",[A._v("meet：某个节点发送 meet 给新加入的节点，让新节点加入集群中，然后新节点就会开始与其它节点进行通信。")])]),A._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[A._v("Redis-trib.rb add-node\n")])]),A._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[A._v("1")]),s("br")])]),s("p",[A._v("其实内部就是发送了一个 gossip meet 消息给新加入的节点，通知那个节点去加入我们的集群。")]),A._v(" "),s("ul",[s("li",[A._v("ping：每个节点都会频繁给其它节点发送 ping，其中包含自己的状态还有自己维护的集群元数据，互相通过 ping 交换元数据。")]),A._v(" "),s("li",[A._v("pong：返回 ping 和 meet，包含自己的状态和其它信息，也用于信息广播和更新。")]),A._v(" "),s("li",[A._v("fail：某个节点判断另一个节点 fail 之后，就发送 fail 给其它节点，通知其它节点说，某个节点宕机啦。")])]),A._v(" "),s("h4",{attrs:{id:"ping-消息深入"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ping-消息深入"}},[A._v("#")]),A._v(" ping 消息深入")]),A._v(" "),s("p",[A._v("ping 时要携带一些元数据，如果很频繁，可能会加重网络负担。")]),A._v(" "),s("p",[A._v("每个节点每秒会执行 10 次 ping，每次会选择 5 个最久没有通信的其它节点。当然如果发现某个节点通信延时达到了 "),s("code",[A._v("cluster_node_timeout / 2")]),A._v(" ，那么立即发送 ping，避免数据交换延时过长，落后的时间太长了。比如说，两个节点之间都 10 分钟没有交换数据了，那么整个集群处于严重的元数据不一致的情况，就会有问题。所以 "),s("code",[A._v("cluster_node_timeout")]),A._v(" 可以调节，如果调得比较大，那么会降低 ping 的频率。")]),A._v(" "),s("p",[A._v("每次 ping，会带上自己节点的信息，还有就是带上 1/10 其它节点的信息，发送出去，进行交换。至少包含 "),s("code",[A._v("3")]),A._v(" 个其它节点的信息，最多包含 "),s("code",[A._v("总节点数减 2")]),A._v(" 个其它节点的信息。")]),A._v(" "),s("h3",{attrs:{id:"分布式寻址算法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分布式寻址算法"}},[A._v("#")]),A._v(" 分布式寻址算法")]),A._v(" "),s("ul",[s("li",[A._v("hash 算法（大量缓存重建）")]),A._v(" "),s("li",[A._v("一致性 hash 算法（自动缓存迁移）+ 虚拟节点（自动负载均衡）")]),A._v(" "),s("li",[A._v("Redis cluster 的 hash slot 算法")])]),A._v(" "),s("h4",{attrs:{id:"hash-算法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hash-算法"}},[A._v("#")]),A._v(" hash 算法")]),A._v(" "),s("p",[A._v("来了一个 key，首先计算 hash 值，然后对节点数取模。然后打在不同的 master 节点上。一旦某一个 master 节点宕机，所有请求过来，都会基于最新的剩余 master 节点数去取模，尝试去取数据。这会导致"),s("strong",[A._v("大部分的请求过来，全部无法拿到有效的缓存")]),A._v("，导致大量的流量涌入数据库。")]),A._v(" "),s("p",[s("img",{attrs:{src:i(366),alt:"hash"}})]),A._v(" "),s("h4",{attrs:{id:"一致性-hash-算法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一致性-hash-算法"}},[A._v("#")]),A._v(" 一致性 hash 算法")]),A._v(" "),s("p",[A._v("一致性 hash 算法将整个 hash 值空间组织成一个虚拟的圆环，整个空间按顺时针方向组织，下一步将各个 master 节点（使用服务器的 ip 或主机名）进行 hash。这样就能确定每个节点在其哈希环上的位置。")]),A._v(" "),s("p",[A._v("来了一个 key，首先计算 hash 值，并确定此数据在环上的位置，从此位置沿环"),s("strong",[A._v("顺时针“行走”")]),A._v("，遇到的第一个 master 节点就是 key 所在位置。")]),A._v(" "),s("p",[A._v("在一致性哈希算法中，如果一个节点挂了，受影响的数据仅仅是此节点到环空间前一个节点（沿着逆时针方向行走遇到的第一个节点）之间的数据，其它不受影响。增加一个节点也同理。")]),A._v(" "),s("p",[A._v("燃鹅，一致性哈希算法在节点太少时，容易因为节点分布不均匀而造成"),s("strong",[A._v("缓存热点")]),A._v("的问题。为了解决这种热点问题，一致性 hash 算法引入了虚拟节点机制，即对每一个节点计算多个 hash，每个计算结果位置都放置一个虚拟节点。这样就实现了数据的均匀分布，负载均衡。")]),A._v(" "),s("p",[s("img",{attrs:{src:i(367),alt:"consistent-hashing-algorithm"}})]),A._v(" "),s("h4",{attrs:{id:"redis-cluster-的-hash-slot-算法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redis-cluster-的-hash-slot-算法"}},[A._v("#")]),A._v(" Redis cluster 的 hash slot 算法")]),A._v(" "),s("p",[A._v("Redis cluster 有固定的 "),s("code",[A._v("16384")]),A._v(" 个 hash slot，对每个 "),s("code",[A._v("key")]),A._v(" 计算 "),s("code",[A._v("CRC16")]),A._v(" 值，然后对 "),s("code",[A._v("16384")]),A._v(" 取模，可以获取 key 对应的 hash slot。")]),A._v(" "),s("p",[A._v("Redis cluster 中每个 master 都会持有部分 slot，比如有 3 个 master，那么可能每个 master 持有 5000 多个 hash slot。hash slot 让 node 的增加和移除很简单，增加一个 master，就将其他 master 的 hash slot 移动部分过去，减少一个 master，就将它的 hash slot 移动到其他 master 上去。移动 hash slot 的成本是非常低的。客户端的 api，可以对指定的数据，让他们走同一个 hash slot，通过 "),s("code",[A._v("hash tag")]),A._v(" 来实现。")]),A._v(" "),s("p",[A._v("任何一台机器宕机，另外两个节点，不影响的。因为 key 找的是 hash slot，不是机器。")]),A._v(" "),s("p",[s("img",{attrs:{src:i(368),alt:"hash-slot"}})]),A._v(" "),s("h3",{attrs:{id:"redis-cluster-的高可用与主备切换原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redis-cluster-的高可用与主备切换原理"}},[A._v("#")]),A._v(" Redis cluster 的高可用与主备切换原理")]),A._v(" "),s("p",[A._v("Redis cluster 的高可用的原理，几乎跟哨兵是类似的。")]),A._v(" "),s("h4",{attrs:{id:"判断节点宕机"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#判断节点宕机"}},[A._v("#")]),A._v(" 判断节点宕机")]),A._v(" "),s("p",[A._v("如果一个节点认为另外一个节点宕机，那么就是 "),s("code",[A._v("pfail")]),A._v(" ，"),s("strong",[A._v("主观宕机")]),A._v("。如果多个节点都认为另外一个节点宕机了，那么就是 "),s("code",[A._v("fail")]),A._v(" ，"),s("strong",[A._v("客观宕机")]),A._v("，跟哨兵的原理几乎一样，sdown，odown。")]),A._v(" "),s("p",[A._v("在 "),s("code",[A._v("cluster-node-timeout")]),A._v(" 内，某个节点一直没有返回 "),s("code",[A._v("pong")]),A._v(" ，那么就被认为 "),s("code",[A._v("pfail")]),A._v(" 。")]),A._v(" "),s("p",[A._v("如果一个节点认为某个节点 "),s("code",[A._v("pfail")]),A._v(" 了，那么会在 "),s("code",[A._v("gossip ping")]),A._v(" 消息中， "),s("code",[A._v("ping")]),A._v(" 给其他节点，如果"),s("strong",[A._v("超过半数")]),A._v("的节点都认为 "),s("code",[A._v("pfail")]),A._v(" 了，那么就会变成 "),s("code",[A._v("fail")]),A._v(" 。")]),A._v(" "),s("h4",{attrs:{id:"从节点过滤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#从节点过滤"}},[A._v("#")]),A._v(" 从节点过滤")]),A._v(" "),s("p",[A._v("对宕机的 master node，从其所有的 slave node 中，选择一个切换成 master node。")]),A._v(" "),s("p",[A._v("检查每个 slave node 与 master node 断开连接的时间，如果超过了 "),s("code",[A._v("cluster-node-timeout * cluster-slave-validity-factor")]),A._v(" ，那么就"),s("strong",[A._v("没有资格")]),A._v("切换成 "),s("code",[A._v("master")]),A._v(" 。")]),A._v(" "),s("h4",{attrs:{id:"从节点选举"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#从节点选举"}},[A._v("#")]),A._v(" 从节点选举")]),A._v(" "),s("p",[A._v("每个从节点，都根据自己对 master 复制数据的 offset，来设置一个选举时间，offset 越大（复制数据越多）的从节点，选举时间越靠前，优先进行选举。")]),A._v(" "),s("p",[A._v("所有的 master node 开始 slave 选举投票，给要进行选举的 slave 进行投票，如果大部分 master node "),s("code",[A._v("（N/2 + 1）")]),A._v(" 都投票给了某个从节点，那么选举通过，那个从节点可以切换成 master。")]),A._v(" "),s("p",[A._v("从节点执行主备切换，从节点切换为主节点。")]),A._v(" "),s("h4",{attrs:{id:"与哨兵比较"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#与哨兵比较"}},[A._v("#")]),A._v(" 与哨兵比较")]),A._v(" "),s("p",[A._v("整个流程跟哨兵相比，非常类似，所以说，Redis cluster 功能强大，直接集成了 replication 和 sentinel 的功能。")])])}),[],!1,null,null,null);s.default=e.exports}}]);