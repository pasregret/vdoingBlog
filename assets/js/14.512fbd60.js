(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{320:function(s,t){s.exports="data:image/png;base64,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"},321:function(s,t){s.exports="data:image/png;base64,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"},444:function(s,t,a){"use strict";a.r(t);var n=a(11),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"基于-hystrix-信号量机制实现资源隔离"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基于-hystrix-信号量机制实现资源隔离"}},[s._v("#")]),s._v(" 基于 Hystrix 信号量机制实现资源隔离")]),s._v(" "),t("p",[s._v("Hystrix 里面核心的一项功能，其实就是所谓的"),t("strong",[s._v("资源隔离")]),s._v("，要解决的最最核心的问题，就是将多个依赖服务的调用分别隔离到各自的资源池内。避免说对某一个依赖服务的调用，因为依赖服务的接口调用的延迟或者失败，导致服务所有的线程资源全部耗费在这个服务的接口调用上。一旦说某个服务的线程资源全部耗尽的话，就可能导致服务崩溃，甚至说这种故障会不断蔓延。")]),s._v(" "),t("p",[s._v("Hystrix 实现资源隔离，主要有两种技术：")]),s._v(" "),t("ul",[t("li",[s._v("线程池")]),s._v(" "),t("li",[s._v("信号量")])]),s._v(" "),t("p",[s._v("默认情况下，Hystrix 使用线程池模式。")]),s._v(" "),t("p",[s._v("前面已经说过线程池技术了，这一小节就来说说信号量机制实现资源隔离，以及这两种技术的区别与具体应用场景。")]),s._v(" "),t("h3",{attrs:{id:"信号量机制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#信号量机制"}},[s._v("#")]),s._v(" 信号量机制")]),s._v(" "),t("p",[s._v("信号量的资源隔离只是起到一个开关的作用，比如，服务 A 的信号量大小为 10，那么就是说它同时只允许有 10 个 tomcat 线程来访问服务 A，其它的请求都会被拒绝，从而达到资源隔离和限流保护的作用。")]),s._v(" "),t("p",[t("img",{attrs:{src:a(320),alt:"hystrix-semphore"}})]),s._v(" "),t("h3",{attrs:{id:"线程池与信号量区别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#线程池与信号量区别"}},[s._v("#")]),s._v(" 线程池与信号量区别")]),s._v(" "),t("p",[s._v("线程池隔离技术，并不是说去控制类似 tomcat 这种 web 容器的线程。更加严格的意义上来说，Hystrix 的线程池隔离技术，控制的是 tomcat 线程的执行。Hystrix 线程池满后，会确保说，tomcat 的线程不会因为依赖服务的接口调用延迟或故障而被 hang 住，tomcat 其它的线程不会卡死，可以快速返回，然后支撑其它的事情。")]),s._v(" "),t("p",[s._v("线程池隔离技术，是用 Hystrix 自己的线程去执行调用；而信号量隔离技术，是直接让 tomcat 线程去调用依赖服务。信号量隔离，只是一道关卡，信号量有多少，就允许多少个 tomcat 线程通过它，然后去执行。")]),s._v(" "),t("p",[t("img",{attrs:{src:a(321),alt:"hystrix-semphore-thread-pool"}})]),s._v(" "),t("p",[t("strong",[s._v("适用场景")]),s._v("：")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("线程池技术")]),s._v("，适合绝大多数场景，比如说我们对依赖服务的网络请求的调用和访问、需要对调用的 timeout 进行控制（捕捉 timeout 超时异常）。")]),s._v(" "),t("li",[t("strong",[s._v("信号量技术")]),s._v("，适合说你的访问不是对外部依赖的访问，而是对内部的一些比较复杂的业务逻辑的访问，并且系统内部的代码，其实不涉及任何的网络请求，那么只要做信号量的普通限流就可以了，因为不需要去捕获 timeout 类似的问题。")])]),s._v(" "),t("h3",{attrs:{id:"信号量简单-demo"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#信号量简单-demo"}},[s._v("#")]),s._v(" 信号量简单 Demo")]),s._v(" "),t("p",[s._v("业务背景里，比较适合信号量的是什么场景呢？")]),s._v(" "),t("p",[s._v("比如说，我们一般来说，缓存服务，可能会将一些量特别少、访问又特别频繁的数据，放在自己的纯内存中。")]),s._v(" "),t("p",[s._v("举个栗子。一般我们在获取到商品数据之后，都要去获取商品是属于哪个地理位置、省、市、卖家等，可能在自己的纯内存中，比如就一个 Map 去获取。对于这种直接访问本地内存的逻辑，比较适合用信号量做一下简单的隔离。")]),s._v(" "),t("p",[s._v("优点在于，不用自己管理线程池啦，不用 care timeout 超时啦，也不需要进行线程的上下文切换啦。信号量做隔离的话，性能相对来说会高一些。")]),s._v(" "),t("p",[s._v("假如这是本地缓存，我们可以通过 cityId，拿到 cityName。")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LocationCache")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Map")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Long")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" cityMap "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HashMap")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        cityMap"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("put")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1L")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"北京"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * 通过cityId 获取 cityName\n     *\n     * @param cityId 城市id\n     * @return 城市名\n     */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getCityName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Long")]),s._v(" cityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" cityMap"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("p",[s._v("写一个 GetCityNameCommand，策略设置为"),t("strong",[s._v("信号量")]),s._v("。run() 方法中获取本地缓存。我们目的就是对获取本地缓存的代码进行资源隔离。")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GetCityNameCommand")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HystrixCommand")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Long")]),s._v(" cityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GetCityNameCommand")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Long")]),s._v(" cityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 设置信号量隔离策略")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("super")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Setter")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("withGroupKey")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HystrixCommandGroupKey"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Factory")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("asKey")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"GetCityNameGroup"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("andCommandPropertiesDefaults")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HystrixCommandProperties"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Setter")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n                        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("withExecutionIsolationStrategy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HystrixCommandProperties"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ExecutionIsolationStrategy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("SEMAPHORE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cityId "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" cityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("protected")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 需要进行信号量隔离的代码")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LocationCache")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getCityName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br")])]),t("p",[s._v("在接口层，通过创建 GetCityNameCommand，传入 cityId，执行 execute() 方法，那么获取本地 cityName 缓存的代码将会进行信号量的资源隔离。")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@RequestMapping")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/getProductInfo"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@ResponseBody")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getProductInfo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Long")]),s._v(" productId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HystrixCommand")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ProductInfo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" getProductInfoCommand "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GetProductInfoCommand")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("productId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 通过command执行，获取最新商品数据")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ProductInfo")]),s._v(" productInfo "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" getProductInfoCommand"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("execute")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Long")]),s._v(" cityId "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" productInfo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getCityId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GetCityNameCommand")]),s._v(" getCityNameCommand "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GetCityNameCommand")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cityId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 获取本地内存(cityName)的代码会被信号量进行资源隔离")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" cityName "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" getCityNameCommand"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("execute")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    productInfo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setCityName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cityName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("productInfo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"success"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);